[{"categories":["blog","github"],"contents":"Wouldn\u0026rsquo;t dance videos on Tik Tok be more like 2021 than a blog?\nMaybe, or at least I could start to call myself a social media influencer but not sure if I would find the content that useful in the long run.\nThere\u0026rsquo;s probably a billion ways to run a blog nowadays, from legacy WordPress to some python functions in AWS Lambda but I\u0026rsquo;ve decided to do something different. I don\u0026rsquo;t want to maintain anything and there was a few things I wanted to try out anyway, so..\n![Gopher)[/images/gopher.png)\nThis web site is built with Hugo, one of the most popular open-source static site generators or at least that\u0026rsquo;s what they say at https://gohugo.io/. It\u0026rsquo;s written in go so it must be..\nThe theme is Horthernlab by Themefisher, https://themes.gohugo.io/northendlab-hugo/ that is powered by Bootstrap 4 and responsive ready \u0026ndash; seems to work fine on mobile browsers, too. I might switch to some more featurerich theme at some point though, we\u0026rsquo;ll see.\nThe source for the site is hosted on a private repository on Github. Whenever the content is updated, a Github Actions workflow will be triggered that will build the website with hugo. The resulting site is then uploaded to another, public Github repository that is available as Github Pages site with custom domain. All that happens in about 10-15 seconds, isn\u0026rsquo;t that cool?\n","permalink":"https://petri-ojala.github.io/blog/2021-04-05-b-blog-platform/","tags":null,"title":"Blog platform"},{"categories":["forewords","foreword"],"contents":"We\u0026rsquo;re moving!\nThis summer we will be relocating to a new apartment, apply called Pilvilinna, Cloud Castle. The place is really called a cloud castle and it\u0026rsquo;s in a 100+ year old mental institute neighbourhood.\nIt will also be our first time living in the \u0026ldquo;countryside\u0026rdquo;, outside of Helsinki postal code, about 40 minutes drive to Helsinki central railway station (now 15 minutes walk).\nWhy blog? Well, there\u0026rsquo;s quite a bit of things to plan or think about. If one blogs about them, one doesn\u0026rsquo;t need to google the same things half a dozen times again and again. Plus everything will hopefully get documented as part of the process.\nThe topics start a bit technical, from networking to home automation, from electric car plans to thoughts about upgrading the cofffee machine but also furniture and art on the walls as well \u0026ndash; anything really!\nFor technical bits the plan is to see how the existing setup will fit in, what should be upgraded and how, and what is worth just to abandon. And let\u0026rsquo;s not forget about the cloud \u0026ndash; it\u0026rsquo;s cloud castle after all!\nCurrently the home is running on top of Kubernetes with FreeNAS, Home Assistant, Node Red, Zigbee, MQTT, Philips Hue, Mikrotik switches, EdgeRouter, TP-Link wireless, 802.11ac WiFi, Google Home, Amazon Alexa, Apple TV, Samsung\u0026rsquo;s 65\u0026rdquo; LCD TV, and most appliances without connectivity.\nI\u0026rsquo;ll start with reflections to the current setup but eventually we\u0026rsquo;ll hopefully turn into a home that can be rebuilt with a single Terraform run :)\n","permalink":"https://petri-ojala.github.io/blog/2021-04-05-a-foreword/","tags":null,"title":"Forewords for Pilvilinna"},{"categories":["internet","network","firewall"],"contents":"Edge router and firewall.\nCurrently on the edge I run Ubiquiti\u0026rsquo;s EdgeRouter 4. It\u0026rsquo;s a small device with three ethernet ports and one SFP port running embedded Linux and Vyatta for routing features. It can hardware offload a lot of packet pushing so it\u0026rsquo;s pretty capable device \u0026ndash; up to 4 Gbit/s and 320kpps for large packets, and up to 1.8 Gbit/s and 3400kpps for small packets.\nBut it hasn\u0026rsquo;t received that much love from Ubiquiti recently, software updates have been occasional not that I\u0026rsquo;ve missed much features anyway.\nIs it time to upgrade? Maybe, or maybe not, I\u0026rsquo;d like to switch to OPNsense but I don\u0026rsquo;t feel like it\u0026rsquo;s absolutely necessary.\nOPNsense would have quite a lot of new features, it\u0026rsquo;s more like a firewall with a router and OPNsense just recently announced some new devices that are ready for the job. DEC690 is based on AMD\u0026rsquo;s emdedded Ryzen and can do up to 3.3 Gbit/s firewall, 600 Mbit/s VPN and is fanless like the EdgeRouter.\nI could enjoy having some visibility to who\u0026rsquo;s knocking on the door, have a HAProxy for inbound connectivity, and get some flow statistics about the traffic.\nI also have another EdgeRouter X that is used for AWS, Azure and Google Cloud VPN\u0026rsquo;s. It\u0026rsquo;s a separate device and can be used the same way as with DNA, both DNA and Elisa provide up to five public IPs. The VPN\u0026rsquo;s are IPSec but perhaps the hyperscalers will include WireGuard support at some point.\nI do have a bigger wish though; I would like to manage the router with Terraform or Ansible. There isn\u0026rsquo;t much for EdgeOS and Terraform, the OPNsense provider for Terraform seems to be a bit limited but it\u0026rsquo;s probably something that I could work on..\n","permalink":"https://petri-ojala.github.io/blog/2021-05-06-a-router-firewall/","tags":null,"title":"Reflections - Edge firewall"},{"categories":["internet","network"],"contents":"Internet connectivity \u0026ndash; 1 Gbit/s have must one.\nOur current apartment doesn\u0026rsquo;t have fiber to the premises so the only options are various FTTC options that use VDSL2 or HFC cable TV internet which I use:\n DNA\u0026rsquo;s 1000M service Actual throughput around 900 Mbit/s, 50-100 Mbit/s upstream DOCSIS 3.0 Sagecom F-3686AC cable modem Up to five public IPv4 addresses, /56 IPv6 prefix  The service has been pretty good, consistent performance, no outages except every couple of years the modem configuration is updated by the carrier and reset to non-working state as I don\u0026rsquo;t use any of it\u0026rsquo;s features, it\u0026rsquo;s just bridging.\nFTTH\nThe new apartment will have fiber to the home.\n Ethernet-based connection 1000/100 service available Up to five public IPv4 addresses, no IPv6  Lack of IPv6 is bit of a bummer with so many years with dual-stack environment and a majority of the traffic being IPv6 by now. It\u0026rsquo;s time to contact old colleagues at Elisa to see if there might a beta program available (there must be, right?) or perhaps try out kuusitunneli.fi, a free IPv6 tunnel service.\n","permalink":"https://petri-ojala.github.io/blog/2021-05-05-b-internet/","tags":null,"title":"Reflections - Internet"},{"categories":["network","wifi"],"contents":"Upgrading WiFi is a bit more complex topic. THere is new technology available but it\u0026rsquo;s not only about what to do with the access point(s) but also about the clients. Replacing clients usually doesn\u0026rsquo;t make much sense and right now we have only two WiFi 6 (802.11ax) devices \u0026ndash; OnePlus 8 Pro and Macbook Pro M1.\nThe benchmark for WiFi has been the ability to use the full Gigabit Internet access over WiFi and right now it works with the current WiFi access point, TP-Link Archer C5400:\n One 2.4 Ghz radio (802.11n, up to 1000 Mbps) Two 5 GHz radios (802.11ac, up to 2167 Mbps each) 4x4 MU-MIMO, 12 Streams, DFS Up to HT80 on 5 GHz, up to HT40 on 4 GHz  It works up to a Gigabit with iMac 5K as the WiFi client. It was a bit pain to configure as dumb as possible, just to bridge between wireless and wired, but it has done the job pretty well and has been completely trouble free.\nA year ago I tested Netgreat\u0026rsquo;s RAX80, a 8-stream WiFi 6 model but despite the better specs it didn\u0026rsquo;t do any better than the C5400, even with 802.11ax to the phone.\nSo what should be the plan?\nFirst problem is that it\u0026rsquo;s unclear what kind of coverage is required for the new apartment. Perhaps well positioned one access point can do the job well enough. I\u0026rsquo;m not that keen to install multiple access points with a controller so prefer single access points that can be installed, configured and forgotten about.\nThe technical requirements should be something like:\n One 2.4 GHz radio (performance not that relevant, for legacy devices) One 5 GHz radio, high performance, up to HT160, WiFi 6 (802.11ax) One 6 GHz radio, high performance, up to HT160, WiFi 6E  If staying in the TP-Link family, their Archer AX96 looks interesting.\nWhy WiFi 6E? I don\u0026rsquo;t see huge benefits from WiFi 6 but 6E is on a higher frequency, it most likely has similar coverage inside the apartment but 6E has much more bandwidth available. 5 GHz can fit only two HT160 channels while 6 GHz can fit seven of them.\nIn any case I think it\u0026rsquo;s a safe bet to continue with the existing access point and after becoming familiar with the apartment\u0026rsquo;s wireless characteristics, take a look at the market and see if there\u0026rsquo;s an interesting product(s) available.\n","permalink":"https://petri-ojala.github.io/blog/2021-05-06-c-wifi/","tags":null,"title":"Reflections - WiFi"},{"categories":["wired","network"],"contents":"Networking \u0026ndash; let\u0026rsquo;s think about boring cables first.\nPeople tend to focus on wireless access but what one really should be doing is to make sure that if there are wires around, anything possible should be connected with wires.\nIn our current apartment we have ethernet wall plates here and there and it\u0026rsquo;s been relatively easy to wire the place but as this has been built around 15 years afgo, the cabling is probably Cat5 or Cat5e as it cannot handle anything above 1 Gbit/s that well.\nI think it\u0026rsquo;s time to set the bar higher \u0026ndash; if possible, have at least 2.5 Gbit/s around the new apartment.\nThere all ethernet wall plates around the new apartment but the details are still unclear. As it\u0026rsquo;s a few years old construction, the cables could well handle 2.5 or even 5 Gbit/s.\nIf 10 Gbit/s over copper works, that will be amazing and I will have trouble not to use it.. Some local links will be 10GE with SFP+ direct attach.\nSwitches The current dumb gigabit-switches and a few Mikrotik\u0026rsquo;s should be a good starting point. The Mikrotik\u0026rsquo;s have some SFP+ ports for faster connections and I have a few DA\u0026rsquo;s around.\nThere are some inexpensive 2.5GE switches arriving to the market, for example 5- and 8-port devices from TRENDnet. These should be fine to use so I might update some core switching devices if the price is right.\nVLANs This is a tricky part.. I don\u0026rsquo;t run separate VLANs for different devices or device classes right now. It didn\u0026rsquo;t feel like worth the effort. However the current IPv4 ranges are split to fictitious /24 blocks based on the devices so switching to separate VLANs should be relatively easy. IPv6 is dynamic though.\nI don\u0026rsquo;t want to go too complex with the VLANs but perhaps it\u0026rsquo;s time to have a few. Thanks to all the auto-discovery and IoT devices, one more than likely needs to configure mDNS repeater between the VLANs.\n","permalink":"https://petri-ojala.github.io/blog/2021-05-05-a-network/","tags":null,"title":"Reflections - Wired networking"},{"categories":null,"contents":"x\u0026mdash; title: \u0026ldquo;Tools\u0026rdquo; draft: false description : \u0026ldquo;this is meta description\u0026rdquo; layout: tools ","permalink":"https://petri-ojala.github.io/blog/tools/","tags":null,"title":""},{"categories":null,"contents":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor.\n","permalink":"https://petri-ojala.github.io/blog/contact/","tags":null,"title":"Contact Us"},{"categories":null,"contents":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n","permalink":"https://petri-ojala.github.io/blog/author/john-doe/","tags":null,"title":"John Doe"},{"categories":null,"contents":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n","permalink":"https://petri-ojala.github.io/blog/author/mark-dinn/","tags":null,"title":"Mark Dinn"}]