[{"categories":["blog","github"],"contents":"Running a blog in 2021? Dance videos to Tik Tok might be more like 2021, or latte art to IG, no doubt both would result a title of social media influencer but not sure if they\u0026rsquo;re that useful in the long run.\nThere\u0026rsquo;s probably a billion or two ways to host a blog, anything from running a WordPress site like back in the 90\u0026rsquo;s to running something on AWS Lambda.\nI didn\u0026rsquo;t fancy maintaining anything and there were some tools I wanted to try out for this, so..\nThis web site is built with Hugo that is one of the most popular open-source static site generators, or at least that\u0026rsquo;s what they say https://gohugo.io/. It\u0026rsquo;s written in go so it must be..\nThe theme is Horthernlab by Themefisher, https://themes.gohugo.io/northendlab-hugo/ that is powered by Bootstrap 4 and responsive ready \u0026ndash; seems to work fine on mobile browsers, too. I might switch to some more featurerich theme at some point though, we\u0026rsquo;ll see.\nThe source for the site is hosted on a private repository on Github. Whenever the content is updated, a Github Actions workflow will be triggered that will build the website with hugo. The resulting site is then uploaded to another, public Github repository that is available as Github Pages site with custom domain. All that happens in about 10-15 seconds, isn\u0026rsquo;t that cool?\n","permalink":"https://petri-ojala.github.io/blog/2021-04-05-b-blog-platform/","tags":null,"title":"Blog platform"},{"categories":["forewords","foreword"],"contents":"Let\u0026rsquo;s get started! This blog will be about our move to the apptly called house called Pilvilinna, Cloud Castle. The apartment we have bought is called cloud castle and it\u0026rsquo;s in a 100+ year old mental institute neighbourhood. It will also be our first time living outside of the Helsinki postcode, almost on the countryside, 40 minutes drive to the Helsinki central railway station (now 15 minutes walk or 5-10 minutes drive..)\nThe objective is to document the plans and decisions for various things with regards to the new apartment, from networking to home automation, from the plans to purchase an EV to thoughts about upgrading the coffee machine, and even from furniture to hanging art on the walls \u0026ndash; anything really!\nFrom purely technical perspective part of the plan is to see how the existing bits and pieces and configurations will fit the new place, where it makes sense to upgrade and why, and what is better just to abandon.\nAnd let\u0026rsquo;s not forget about the cloud \u0026ndash; one cannot live in a cloud castle without some cloud connectivity!\nSome keywords about the current setup; FreeNAS, Kubernetes, Raspberry Pi, Zigbee, Home Assistant, Node Red, Philips Hue, Apple TV, Mikrotik, EdgeRouter, TP-Link, 802.11ac, Google Home, Amazon Alexa, and so on..\nInitially there will be some reflections to the current setup, and what could be done in the new apartment. Otherwise I\u0026rsquo;ll just forget all the details..\n","permalink":"https://petri-ojala.github.io/blog/2021-04-05-a-foreword/","tags":null,"title":"Forewords for Pilvilinna"},{"categories":["internet","network","firewall"],"contents":"Edge router and firewall.\nCurrently on the edge I run Ubiquiti\u0026rsquo;s EdgeRouter 4. It\u0026rsquo;s a small device with three ethernet ports and one SFP port running embedded Linux and Vyatta for routing features. It can hardware offload a lot of packet pushing so it\u0026rsquo;s pretty capable device \u0026ndash; up to 4 Gbit/s and 320kpps for large packets, and up to 1.8 Gbit/s and 3400kpps for small packets.\nBut it hasn\u0026rsquo;t received that much love from Ubiquiti recently, software updates have been occasional not that I\u0026rsquo;ve missed much features anyway.\nIs it time to upgrade? Maybe, or maybe not, I\u0026rsquo;d like to switch to OPNsense but I don\u0026rsquo;t feel like it\u0026rsquo;s absolutely necessary.\nOPNsense would have quite a lot of new features, it\u0026rsquo;s more like a firewall with a router and OPNsense just recently announced some new devices that are ready for the job. DEC690 is based on AMD\u0026rsquo;s emdedded Ryzen and can do up to 3.3 Gbit/s firewall, 600 Mbit/s VPN and is fanless like the EdgeRouter.\nI could enjoy having some visibility to who\u0026rsquo;s knocking on the door, have a HAProxy for inbound connectivity, and get some flow statistics about the traffic.\nI also have another EdgeRouter X that is used for AWS, Azure and Google Cloud VPN\u0026rsquo;s. It\u0026rsquo;s a separate device and can be used the same way as with DNA, both DNA and Elisa provide up to five public IPs. The VPN\u0026rsquo;s are IPSec but perhaps the hyperscalers will include WireGuard support at some point.\nI do have a bigger wish though; I would like to manage the router with Terraform or Ansible. There isn\u0026rsquo;t much for EdgeOS and Terraform, the OPNsense provider for Terraform seems to be a bit limited but it\u0026rsquo;s probably something that I could work on..\n","permalink":"https://petri-ojala.github.io/blog/2021-05-06-a-router-firewall/","tags":null,"title":"Reflections - Edge firewall"},{"categories":["internet","network"],"contents":"Internet connectivity \u0026ndash; 1 Gbit/s have must one.\nIn our current apartment the options are somewhat limited, most of the carriers offer just VDSL (or 4G/5G) over the leftover copper but luckily there\u0026rsquo;s DOCSIS 3.0 HFC cable TV network and DNA offers 1 Gbit/s service over it.\nDNA\u0026rsquo;s service has been pretty stable and performance has been both excellent and consistent, it\u0026rsquo;s easy to get 900+ Mbit/s over it. The connection is with Sagecom\u0026rsquo;s F-3686AC modem that has worked fine, apart from DNA\u0026rsquo;s updates that reset the configuration every couple of years. This modem will be sold when we move.\nDNA offers both IPv4 and IPv6, they provide /56 prefix with DHCPv6 Prefix Delegation and the home network has been dual-stack for years. IPv6 just works, as they say..\nWith the new apartment, Elisa\u0026rsquo;s fiber is the only option. I don\u0026rsquo;t think there\u0026rsquo;s even copper around any more. Luckily Elisa offers 1 Gbit/s service and as it\u0026rsquo;s native ethernet, the performance should be slightly better than today and the upstream a tad faster.\nUnfortunately Elisa doesn\u0026rsquo;t do IPv6 yet on their fixed connections so what to do with IPv6? I will try to contact old friends at Elisa to see if there\u0026rsquo;s any beta programs to join, or perhaps kuusitunneli.fi will be fast enough. I do want to get IPv6 but I don\u0026rsquo;t want to pay too much performance penalty for it.\n","permalink":"https://petri-ojala.github.io/blog/2021-05-05-b-internet/","tags":null,"title":"Reflections - Internet"},{"categories":["wired","network"],"contents":"Networking \u0026ndash; let\u0026rsquo;s think about boring cables first.\nPeople tend to focus on wireless access but what one really should be doing is to make sure that if there are wires around, anything possible should be connected with wires.\nIn our current apartment we have ethernet wall plates here and there and it\u0026rsquo;s been relatively easy to wire the place but as this has been built around 15 years afgo, the cabling is probably Cat5 or Cat5e as it cannot handle anything above 1 Gbit/s that well.\nI think it\u0026rsquo;s time to set the bar higher \u0026ndash; if possible, have at least 2.5 Gbit/s around the new apartment.\nThere all ethernet wall plates around the new apartment but the details are still unclear. As it\u0026rsquo;s a few years old construction, the cables could well handle 2.5 or even 5 Gbit/s.\nIf 10 Gbit/s over copper works, that will be amazing and I will have trouble not to use it.. Some local links will be 10GE with SFP+ direct attach.\nSwitches The current dumb gigabit-switches and a few Mikrotik\u0026rsquo;s should be a good starting point. The Mikrotik\u0026rsquo;s have some SFP+ ports for faster connections and I have a few DA\u0026rsquo;s around.\nThere are some inexpensive 2.5GE switches arriving to the market, for example 5- and 8-port devices from TRENDnet. These should be fine to use so I might update some core switching devices if the price is right.\nVLANs This is a tricky part.. I don\u0026rsquo;t run separate VLANs for different devices or device classes right now. It didn\u0026rsquo;t feel like worth the effort. However the current IPv4 ranges are split to fictitious /24 blocks based on the devices so switching to separate VLANs should be relatively easy. IPv6 is dynamic though.\nI don\u0026rsquo;t want to go too complex with the VLANs but perhaps it\u0026rsquo;s time to have a few. Thanks to all the auto-discovery and IoT devices, one more than likely needs to configure mDNS repeater between the VLANs.\n","permalink":"https://petri-ojala.github.io/blog/2021-05-05-a-network/","tags":null,"title":"Reflections - Wired networking"},{"categories":null,"contents":"x\u0026mdash; title: \u0026ldquo;Tools\u0026rdquo; draft: false description : \u0026ldquo;this is meta description\u0026rdquo; layout: tools ","permalink":"https://petri-ojala.github.io/blog/tools/","tags":null,"title":""},{"categories":null,"contents":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor.\n","permalink":"https://petri-ojala.github.io/blog/contact/","tags":null,"title":"Contact Us"},{"categories":null,"contents":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n","permalink":"https://petri-ojala.github.io/blog/author/john-doe/","tags":null,"title":"John Doe"},{"categories":null,"contents":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n","permalink":"https://petri-ojala.github.io/blog/author/mark-dinn/","tags":null,"title":"Mark Dinn"}]